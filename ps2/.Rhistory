source('ps2a.r')
head(ps2a.data)
summary(ps2a.data)
ps2a.datakey <- data.frame(var.name=names(ps2a.data), var.labels = attr(ps2a.data, "var.labels"))

ps2a.datakey
pooled.OLS <- lm(ln(fatalities) ~ primary, data = ps2a.data)

pooled.OLS <- lm(log(fatalities) ~ primary, data = ps2a.data)

summary(pooled.OLS)
ps2a.data$logfatal <- with(ps2.data, log(fatalities))
ps2a.data$logfatal <- with(ps2a.data, log(fatalities))
head(ps2a.data)
ps2a.data$logfatalpc <- with(ps2a.data, log(fatalities/population))
ps2a.data$netyears <- with(ps2a.data, year-1981)
pooled.OLS <- lm(logfatalpc ~ primary, data = ps2a.data)

quadtime <- lm(logfatalpc ~ primary + (netyears^2))
quadtime <- lm(logfatalpc ~ primary + (netyears^2), data = ps2a.data)
summary(quadtime)
ps2a.data$sqnetyears <- with(ps2a.data, (year-1981)^2)
quadtime <- lm(logfatalpc ~ primary + sqnetyears, data = ps2a.data)
summary(quadtime)
summary(pooled.OLS)
names(ps2a.data)
pooled.full <- lm(logfatalpc ~ primary + secondary + beer + totalvmt + precip + snow32 + rural_speed + urban_speed, data = ps2a.data)
summary(pooled.full)
ps2a.datakey
source("../util/are213-func.R")
robust(pooled.OLS)
summary(pooled.OLS)
